<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AsteroidWorks.Inc</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #050505;
            font-family: 'Courier New', Courier, monospace;
            color: white;
        }

        #canvas-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        #ui-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
            pointer-events: none; /* Let clicks pass through to 3D scene */
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 2rem;
            box-sizing: border-box;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        h1 {
            font-size: 1.5rem;
            margin: 0;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }

        nav a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            margin-left: 2rem;
            font-size: 0.9rem;
            pointer-events: auto; /* Re-enable clicks for links */
            transition: color 0.3s;
        }

        nav a:hover {
            color: #0ff;
            text-shadow: 0 0 5px #0ff;
        }

        .hero {
            max-width: 600px;
        }

        .hero h2 {
            font-size: 4rem;
            line-height: 0.9;
            margin: 0 0 1rem 0;
            mix-blend-mode: overlay;
        }

        .hero p {
            font-size: 1.1rem;
            line-height: 1.5;
            color: #aaa;
            background: rgba(0, 0, 0, 0.5);
            padding: 1rem;
            border-left: 2px solid #0ff;
        }

        .status-bar {
            display: flex;
            gap: 2rem;
            font-size: 0.8rem;
            color: #666;
        }

        .status-item span {
            color: #0ff;
        }
    </style>
</head>
<body>

    <!-- 3D Container -->
    <div id="canvas-container"></div>

    <!-- UI Overlay -->
    <div id="ui-layer">
        <header>
            <h1>AsteroidWorks.Inc</h1>
            <nav>
                <a href="#">Mining</a>
                <a href="#">Logistics</a>
                <a href="#">Careers</a>
                <a href="#">Contact</a>
            </nav>
        </header>

        <div class="hero">
            <h2>BUILDING<br>THE BELT.</h2>
            <p>From raw ore extraction to orbital infrastructure, AsteroidWorks provides the foundation for humanity's next giant leap.</p>
        </div>

        <div class="status-bar">
            <div class="status-item">SYSTEM: <span>ONLINE</span></div>
            <div class="status-item">SECTOR: <span>7G-ALPHA</span></div>
            <div class="status-item">YIELD: <span>98.4%</span></div>
        </div>
    </div>

    <!-- Three.js Logic -->
    <script type="module">
        import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js';

        // 1. Scene Setup
        const scene = new THREE.Scene();
        // Add subtle fog for depth
        scene.fog = new THREE.FogExp2(0x050505, 0.002);

        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 5;

        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        document.getElementById('canvas-container').appendChild(renderer.domElement);

        // 2. Lighting
        const ambientLight = new THREE.AmbientLight(0x404040, 2); // Soft white light
        scene.add(ambientLight);

        const pointLight = new THREE.PointLight(0x00ffff, 2, 50); // Cyan mining light
        pointLight.position.set(5, 5, 5);
        scene.add(pointLight);

        const sunLight = new THREE.DirectionalLight(0xffffff, 1.5);
        sunLight.position.set(-5, 3, 5);
        scene.add(sunLight);

        // 3. The Asteroid (Procedural)
        const geometry = new THREE.DodecahedronGeometry(2, 2); // Detail level 2
        
        // Displace vertices to make it look like a rock
        const positionAttribute = geometry.attributes.position;
        const vertex = new THREE.Vector3();
        
        for (let i = 0; i < positionAttribute.count; i++) {
            vertex.fromBufferAttribute(positionAttribute, i);
            // Random noise per vertex
            const distortion = 0.2; // Strength of rockiness
            vertex.x += (Math.random() - 0.5) * distortion;
            vertex.y += (Math.random() - 0.5) * distortion;
            vertex.z += (Math.random() - 0.5) * distortion;
            positionAttribute.setXYZ(i, vertex.x, vertex.y, vertex.z);
        }
        
        geometry.computeVertexNormals(); // Recompute lighting

        const material = new THREE.MeshStandardMaterial({
            color: 0x333333,
            roughness: 0.8,
            metalness: 0.4,
            flatShading: true // Gives it that low-poly tech look
        });

        const asteroid = new THREE.Mesh(geometry, material);
        scene.add(asteroid);

        // 4. Starfield
        const starsGeometry = new THREE.BufferGeometry();
        const starsCount = 2000;
        const posArray = new Float32Array(starsCount * 3);

        for(let i = 0; i < starsCount * 3; i++) {
            // Spread stars far out
            posArray[i] = (Math.random() - 0.5) * 50; 
        }

        starsGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        const starsMaterial = new THREE.PointsMaterial({
            size: 0.02,
            color: 0xffffff,
            transparent: true,
            opacity: 0.8
        });
        const starMesh = new THREE.Points(starsGeometry, starsMaterial);
        scene.add(starMesh);

        // 5. Interaction variables
        let mouseX = 0;
        let mouseY = 0;
        let targetX = 0;
        let targetY = 0;

        const windowHalfX = window.innerWidth / 2;
        const windowHalfY = window.innerHeight / 2;

        document.addEventListener('mousemove', (event) => {
            mouseX = (event.clientX - windowHalfX);
            mouseY = (event.clientY - windowHalfY);
        });

        // 6. Animation Loop
        function animate() {
            requestAnimationFrame(animate);

            // Rotate asteroid
            asteroid.rotation.y += 0.002;
            asteroid.rotation.x += 0.001;

            // Rotate stars slowly
            starMesh.rotation.y -= 0.0002;

            // Parallax mouse effect
            targetX = mouseX * 0.001;
            targetY = mouseY * 0.001;

            asteroid.rotation.y += 0.05 * (targetX - asteroid.rotation.y);
            asteroid.rotation.x += 0.05 * (targetY - asteroid.rotation.x);

            renderer.render(scene, camera);
        }

        // Handle Resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        animate();
    </script>
</body>
</html>
